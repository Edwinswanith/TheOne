TC-004: Custom Override Requires Justification and Blocks Without It
Purpose

Ensure custom choice requires justification and blocks the gate if missing.

Preconditions

Decision gate screen accessible

Test Data

Gate: Pricing metric

User selects: custom

Custom metric: Per deal closed

Justification: empty then filled

Steps

Go to Pricing gate

Select Custom

Enter Per deal closed

Leave justification empty and click Continue

Enter justification: We align pricing with revenue impact and reduce objections

Click Continue

Expected Results

Step 4: blocked with message requiring justification

Step 6: allowed

Canonical state stores override justification in the appropriate place:

Either within decision record or intake answer depending on your design

A risk or info note may be created noting custom metric selected

Data Integrity Checks

decisions.pricing.metric updated only after justification is provided

meta.updated_by reflects the orchestrator for final decision fields